---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "securecn_k8s_cluster Resource - terraform-provider-securecn"
subcategory: ""
description: |-
  A SecureCN k8s cluster
---

# securecn_k8s_cluster (Resource)

A SecureCN k8s cluster



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `kubernetes_cluster_context` (String) The k8s context name of the cluster
- `name` (String) The name of cluster in SecureCN

### Optional

- `api_intelligence_dast` (Boolean) Enable API Intelligence DAST integration
- `auto_labeling` (Boolean) Enable auto labeling of Kubernetes namespaces
- `cd_pod_template` (Boolean) Identify pod templates only originating from SecureCN CD plugin
- `ci_image_signer_validation_enabled` (Boolean) indicates whether ci image signer validation is Enabled
- `ci_image_validation` (Boolean) Identify pods only if the image hash matches the value generated by the CI plugin or entered manually in the UI
- `connections_control` (Boolean) Enable connections control
- `external_ca` (Block List, Max: 1) Use an external CA for this cluster (see [below for nested schema](#nestedblock--external_ca))
- `external_https_proxy` (String) Proxy definitions for outgoing HTTPS traffic from the cluster, if needed
- `fail_close` (Boolean) When enabled, workloads and connections will be blocked in case SecureCN agent is not responding
- `force_remove_vault_on_delete` (Boolean) delete the vault namespace (that was created for token injection) on delete. default = false
- `hold_application_until_proxy_starts` (Boolean) Indicates whether the controller should hold the application until the proxy starts
- `inspect_incoming_cluster_connections` (Boolean) Enable enforcement and visibility of connections from external IP sources
- `install_envoy_tracing_support` (Boolean) Indicates whether to install Envoy tracing support, available when install tracing support is true
- `install_tracing_support` (Boolean) Indicates whether to install tracing support, enable for apiSecurity accounts
- `internal_registry` (Block List, Max: 1) Use an internal container registry for this cluster (see [below for nested schema](#nestedblock--internal_registry))
- `istio_already_installed` (Boolean) if false, istio will be installed, otherwise the controller will use the previously installed istio
- `istio_ingress_annotations` (Map of String) when enabling Istio ingress, use these Istio ingress annotations
- `istio_ingress_enabled` (Boolean) If installing Istio, use Istio ingress
- `istio_version` (String) if istio already installed, this specifies its version
- `minimum_replicas` (Number) minimum number of controller replicas
- `multi_cluster_communication_support` (Boolean) Enable multi cluster communication
- `multi_cluster_communication_support_certs_path` (String) Multi cluster certs path. Only valid if multi_cluster_communication_support is true
- `orchestration_type` (String) Orchestration type of the kubernetes cluster
- `persistent_storage` (Boolean) Allow SecureCN agent to save the policy persistently, so it will be available after a restart of the pod. This will Require 128MB of storage for the agent pod.
- `restrict_registries` (Boolean) Workload from untrusted registries will be marked as 'unknown'
- `rollback_on_controller_failure` (Boolean) delete cluster on controller installation failure. default = true
- `service_discovery_isolation` (Boolean) Indicates whether the service discovery isolation is enabled
- `sidecar_resources` (Block List, Max: 1) Define resource limits for Istio sidecars (see [below for nested schema](#nestedblock--sidecar_resources))
- `skip_ready_check` (Boolean) Indicates whether the cluster installation should be async
- `support_external_trace_source` (Boolean) indicates whether external trace sources are supported, available when install tracing support is true
- `tls_inspection` (Boolean) Indicates whether the TLS inspection is enabled
- `token_injection` (Boolean) Indicates whether the token injection is enabled

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--external_ca"></a>
### Nested Schema for `external_ca`

Optional:

- `id` (String) The id of the external CA
- `name` (String) The name of the external CA


<a id="nestedblock--internal_registry"></a>
### Nested Schema for `internal_registry`

Optional:

- `url` (String) The InternalRegistryFieldNameUrl of the internal registry


<a id="nestedblock--sidecar_resources"></a>
### Nested Schema for `sidecar_resources`

Optional:

- `proxy_init_limits_cpu` (Number)
- `proxy_init_limits_memory` (Number)
- `proxy_init_requests_cpu` (Number)
- `proxy_init_requests_memory` (Number)
- `proxy_limits_cpu` (Number)
- `proxy_limits_memory` (Number)
- `proxy_requests_cpu` (Number)
- `proxy_requests_memory` (Number)


