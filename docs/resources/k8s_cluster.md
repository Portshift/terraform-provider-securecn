---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "securecn_k8s_cluster Resource - terraform-provider-securecn"
subcategory: ""
description: |-
  A SecureCN k8s cluster
---

# securecn_k8s_cluster (Resource)

A SecureCN k8s cluster



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **kubernetes_cluster_context** (String) The k8s context name of the cluster
- **name** (String) The name of cluster in SecureCN

### Optional

- **api_intelligence_dast** (Boolean) Enable API Intelligence DAST integration
- **auto_labeling** (Boolean) Enable auto labeling of Kubernetes namespaces
- **cd_pod_template** (Boolean) Identify pod templates only originating from SecureCN CD plugin
- **ci_image_validation** (Boolean) Identify pods only if the image hash matches the value generated by the CI plugin or entered manually in the UI
- **connections_control** (Boolean) Enable connections control
- **external_ca** (Block List, Max: 1) Use an external CA for this cluster (see [below for nested schema](#nestedblock--external_ca))
- **external_https_proxy** (String) Proxy definitions for outgoing HTTPS traffic from the cluster, if needed
- **fail_close** (Boolean) When enabled, workloads and connections will be blocked in case SecureCN agent is not responding
- **hold_application_until_proxy_starts** (Boolean) Indicates whether the controller should hold the application until the proxy starts
- **id** (String) The ID of this resource.
- **inspect_incoming_cluster_connections** (Boolean) Enable enforcement and visibility of connections from external IP sources
- **internal_registry** (Block List, Max: 1) Use an internal container registry for this cluster (see [below for nested schema](#nestedblock--internal_registry))
- **istio_ingress_annotations** (Map of String) If enabling Istio ingress, use Istio these ingress annotation
- **istio_ingress_enabled** (Boolean) If installing Istio, use Istio ingress
- **istio_version** (String) When installing SecureCN agent deployment, use the already existing Istio deployment
- **minimum_replicas** (Number) Number of replicas of the `portshift-agent` to install in the cluster.
- **multi_cluster_communication_support** (Boolean) Enable multi cluster communication
- **multi_cluster_communication_support_certs_path** (String) Multi cluster certs path. Only valid if multi_cluster_communication_support is true
- **orchestration_type** (String) Orchestration type of the kubernetes cluster
- **persistent_storage** (Boolean) Allow SecureCN agent to save the policy persistently, so it will be available after a restart of the pod. This will Require 128MB of storage for the agent pod.
- **restrict_registries** (Boolean) Workload from untrusted registries will be marked as 'unknown'
- **service_discovery_isolation** (Boolean) Indicates whether the service discovery isolation is enabled
- **sidecar_resources** (Block List, Max: 1) Define resource limits for Istio sidecars (see [below for nested schema](#nestedblock--sidecar_resources))
- **skip_ready_check** (Boolean) Indicates whether the cluster installation should be async
- **spec_reconstruction** (Boolean) Indicates whether the OpenAPI specification reconstruction is enabled
- **tls_inspection** (Boolean) Indicates whether the TLS inspection is enabled
- **token_injection** (Boolean) Indicates whether the token injection is enabled
- **trace_analyzer** (Boolean) Indicates whether the trace analyzer is enabled
- **tracing_support** (Boolean) Indicates whether to install tracing support, enable for apiSecurity accounts.

<a id="nestedblock--external_ca"></a>
### Nested Schema for `external_ca`

Required:

- **id** (String) The id of the external CA

Optional:

- **name** (String) The name of the external CA


<a id="nestedblock--internal_registry"></a>
### Nested Schema for `internal_registry`

Required:

- **url** (String) The url of the internal registry


<a id="nestedblock--sidecar_resources"></a>
### Nested Schema for `sidecar_resources`

Optional:

- **proxy_init_limits_cpu** (Number)
- **proxy_init_limits_memory** (Number)
- **proxy_init_requests_cpu** (Number)
- **proxy_init_requests_memory** (Number)
- **proxy_limits_cpu** (Number)
- **proxy_limits_memory** (Number)
- **proxy_requests_cpu** (Number)
- **proxy_requests_memory** (Number)


